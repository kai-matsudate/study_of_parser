# Parser とは

例えばあなたが あるプログラミング言語のインタプリタだったとしましょう。
「これを実行してください！」と以下のスクリプトが与えられたとします。

```c
1 + 2 * 3
```

このとき、あなたは何を標準出力に吐き出しますか？
きっとあなたは `7` と答えるでしょう。

あなたは 2X 年生きてきた非常に賢い VM ですから、容易に処理を行ったことだろうと思いますが、ここであなたの処理した内容をもう少し詳しく見てみましょう。

1. `1 + 2 * 3` という文字列を受け取る
2. 文字列を数字(1, 2, 3)と演算子(+, *)に分解する
3. 演算子の優先順位を考慮して、計算の順序を決定する
4. 計算結果を標準出力に吐き出す

実はなかなか大変な作業であることがわかりますね。

また、以下のようなスクリプトが与えられたときはどうでしょうか？

```c
1 + 2 *+/ 3 = 4
```

この場合、あなたは「数式が間違っている」と判断するのではないでしょうか？
今回もあなたの処理内容を詳しく見てみると、

1. `1 + 2 *+/ 3 = 4` という文字列を受け取る
2. 文字列を数字と演算子に分解する
3. 想定していない演算子の並びが含まれていることに気づく
4. 数式が間違っていると判断する

という処理を行っていると言えるのではないでしょうか。

このことから、あなたは計算処理の前処理として、以下のステップを実行している事がわかります。

1. 文字列を意味でまとまった単位にまとめる
2. まとまった単位が不自然な並びになっていないかチェックする
3. 計算の順番を決定する


受け取った文字列を意味のある単位に分割している訳ですね。
これと全く同じことが、プログラミング言語のパーサによって行われているのです。

# 字句解析と構文解析

先ほど簡単な例で話した内容をもう少し実態に近い例で説明します。
前処理として以下の3つの処理を行っていましたね。

1. 文字列を意味でまとまった単位にまとめる
2. まとまった単位が不自然な並びになっていないかチェックする
3. インタプリタが理解できる形に変換する

1つ目の処理は「字句解析」と呼ばれ、2つ目と3つ目の処理は「構文解析」と呼ばれます。
字句解析を行うプログラムを lexer、構文解析を行うプログラムを parser と呼びます。
